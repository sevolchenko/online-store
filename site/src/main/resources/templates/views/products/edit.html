<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Edit</title>
</head>
<body>

<header th:insert="general :: header"> content here </header>

<form th:method="PATCH" enctype="multipart/form-data" th:action="@{/products/{id}(id=${product.getId()})}" th:object="${product}">
    <fieldset>
        <p>
            <label for="category">Choose category: </label>
            <select th:selected="${product.getCategory()}" name="category" id="category">
                <option th:each="category : ${categories}"
                        th:value="${category.getId()}" th:text="${category.getName()}"></option>
            </select>
        </p>
        <label for="name">Enter name: </label>
        <input type="text" th:field="*{name}" id="name"/>
        <span class="errorMsg" th:if="${#fields.hasErrors('name')}" th:errors="*{name}">Name Error</span>
        <br/>
        <label for="description">Enter description: </label>
        <input type="text" th:field="*{description}" id="description"/>
        <span class="errorMsg" th:if="${#fields.hasErrors('description')}" th:errors="*{description}">Description Error</span>
        <br/>
        <label for="color">Enter color: </label>
        <input type="text" th:field="*{color}" id="color"/>
        <span class="errorMsg" th:if="${#fields.hasErrors('color')}" th:errors="*{color}">Color Error</span>
        <br/>
        <label for="materials">Enter materials: </label>
        <input type="text" th:field="*{materials}" id="materials"/>
        <span class="errorMsg" th:if="${#fields.hasErrors('materials')}" th:errors="*{materials}">Materials Error</span>
        <br/>
        <label for="initialPrice">Enter initial price: </label>
        <input type="number" min="0" th:field="*{initialPrice}" id="initialPrice"/>
        <span class="errorMsg" th:if="${#fields.hasErrors('initialPrice')}" th:errors="*{initialPrice}">Initial price Error</span>
        <br/>
        <p>
            <label for="shownInfo">Choose shown info: </label>
            <select name="stateOfShownInfo" id="shownInfo">
                <option th:each="stateOfShownInfo : ${T(ru.vsu.cs.volchenko.site.entity.StateOfShownInfo).values()}"
                        th:value="${stateOfShownInfo}" th:text="${stateOfShownInfo.toString()}"></option>
            </select>
        </p>
        <p>
            <label for="images">Upload photo: </label>
            <input type="file" name="images[]" accept="image/*" id="images">
        </p>
        <p>
            <input type="submit" value="Edit"/>
        </p>
    </fieldset>
</form>

</body>
</html>